(function(r,l){function k(d,a){var b={start:"<%",end:"%>",interpolate:/<%=(.+?)%>/g},h=RegExp("'(?=[^"+b.end.substr(0,1)+"]*"+b.end.replace(/([.*+?\^${}()|\[\]\/\\])/g,"\\$1")+")","g");b=new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj||{}){p.push('"+d.replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(h,"\u2704").split("'").join("\\'").split("\u2704").join("'").replace(b.interpolate,"',$1,'").split(b.start).join("');").split(b.end).join("p.push('")+
"');}return p.join('');");return a?b(a):b}fe.jquery={};fe.jquery.elements={};var q={undefinedViewContainerId:"view.initialize: viewContainerId property must be defined for view element."};fe.jquery.runSimpleApp=function(d,a){var b={};b.provider=fe.metadataProvider({metadata:d});b.engine=fe.engine();b.model=fe.model({metadata:b.provider.getModelMetadata(),engine:b.engine});b.view=fe.view({metadata:b.provider.getViewMetadata(),elementTypes:fe.jquery.elements,defaultElementType:fe.jquery.element,engine:b.engine});
b.engine.addRules(b.provider.getRules());b.engine.addTriggers(b.provider.getTriggers());b.view.initialize();b.model.set(a);return b};fe.jquery.element=function(d){var a=fe.element(d),b,h;a.editorId=a.id.replace(/\./g,"_");a.containerId="c_"+a.editorId;a.initialize=function(){a.doInitialize&&a.doInitialize();a.eachChild(function(f){f.initialize()})};a.getMarkup=function(){var f=a.template,e="";a.eachChild(function(j){e+=j.getMarkup()});if(typeof f==="function")return f({editorId:a.editorId,containerId:a.containerId,
content:e,properties:a.properties});return e};a.getEditor=function(){if(b===l)b=$("#"+a.editorId);return b};a.getContainer=function(){if(h===l)h=$("#"+a.containerId);return h};a.setHidden=function(f){var e=a.getContainer();e&&e.toggleClass("fe-hidden",f)};a.setReadonly=function(f){var e=a.getEditor();if(e)e.get(0).disabled=f};return a};fe.jquery.elements.view=function(d){var a=fe.jquery.element(d);a.template=k('<div id="<%=containerId%>"><%=content%></div>');a.doInitialize=function(){var b=a.properties.viewContainerId;
if(typeof b!=="string")throw Error(q.undefinedViewContainerId);document.getElementById(b).innerHTML=a.getMarkup()};return a};fe.jquery.elements.textBox=function(d){var a=fe.jquery.element(d);a.template=k('<div id="<%=containerId%>"><label for="<%=editorId%>" class="fe-element-label"><%=properties.label%></label><input type="text" id="<%=editorId%>"></input></div>');a.initialize=function(){a.getEditor().change(function(){a.notifyValueChange(a.getEditor().val())})};a.setValue=function(b){a.getEditor().val(b)};
return a};fe.jquery.elements.comboBox=function(d){function a(c){function g(n){var m=document.createElement("option");m.value=n.id;m.text=n.name;o.add(m,null)}var i,p,o=document.getElementById(b.editorId);e=c;o.innerHTML="";g({id:-1,name:"Select..."});i=0;for(p=c.length;i<p;i+=1)g(c[i]);b.getEditor().val(j||-1)}var b=fe.jquery.element(d);d=d.engine;var h=b.receiveMessage,f=b.properties.list,e,j;f&&d.addRule({receiverId:b.id,path:f,signal:"value"});b.template=k('<div id="<%=containerId%>"><label for="<%=editorId%>" class="fe-element-label"><%=properties.label%></label><select id="<%=editorId%>"></select></div>');
b.receiveMessage=function(c){c.signal==="value"&&c.rulePath===f?a(c.data):h(c)};b.initialize=function(){b.getEditor().change(function(){var c;a:{c=b.getEditor().val();var g,i;c=parseInt(c,10);if(e){g=0;for(i=e.length;g<i;g+=1)if(e[g].id===c){c=e[g];break a}}c=l}b.notifyValueChange(c)})};b.setValue=function(c){j=c.id;b.getEditor().val(j||-1)};return b};fe.jquery.elements.checkBox=function(d){var a=fe.jquery.element(d);a.template=k('<div id="<%=containerId%>"><label for="<%=editorId%>" class="fe-element-label"><%=properties.label%></label><input type="checkbox" id="<%=editorId%>"></input></div>');
a.initialize=function(){a.getEditor().change(function(){a.notifyValueChange(a.getEditor().attr("checked"))})};a.setValue=function(b){a.getEditor().attr("checked",b)};return a}})(function(){return this}());
